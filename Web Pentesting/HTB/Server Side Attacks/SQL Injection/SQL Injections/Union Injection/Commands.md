
## Detect Number of Columns


### Using ORDER BY

- `ORDER BY` is to arrange the data in the table in ascending or descending order. By default its always ascending order.
- -  If `4` gives success message then `4` columns are present but display might show `3` or less ... **it depends and based on the display order set your payload codes.**
- Remember this number will vary so check sequentially ... like 1,2,3,4,5 .....
- `cn` is for the parameter we pass in the input field and the rest is the payload for exploitation. The `'` sign is to close the input field and start our payload after the `'` sign and ending it with comments `-- '` to invalidate the rest of the logic if present.


```mysql
cn' ORDER by 1,2,3,4-- '
```

### Using UNION

- It works opposite to `ORDER BY`. We need to keep doing it until we get a success message. So if we get success at **4**, then there are 4 columns but their display order can vary. Some columns might not be displayed but are returned during query.
- So if the below payload doesn't produce error it means we have 3 columns.
- The extra `-` after `--` is to specify a space.

```mysql
cn' UNION SELECT 1,2,3,4-- -
```




## Locating the Injection Place

- After SQL injection is possible or not checked.
- After finding number of columns checked.
- Now its time to find the location where the payload should be injected. **Remember: UNION needs equal number of columns the thing we want to extract must be inside 1,2,3,4 and also the column needs to display so maintain that order as well.**
- The database might not display some columns but they do exist and the places where the columns are displayed is where we need to paste our payload.

