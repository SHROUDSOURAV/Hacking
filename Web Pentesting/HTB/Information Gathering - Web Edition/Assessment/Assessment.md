
First add the vhost corresponding to its IP address given by the challenge.


- What is the IANA ID of the registrar of the inlanefreight.com domain?
	- **468**


```bash
whois inlanefreight.com
```


- What http server software is powering the inlanefreight.htb site on the target system? Respond with the name of the software, not the version, e.g., Apache.
	- **nginx**


```bash
curl -I inlanefreight.htb:39109
```


- What is the API key in the hidden admin directory that you have discovered on the target system?
	- **e963d863ee0e82ba7080fbf558ca0d3f**


For solving this challenge we need to perform Name-Based Vhost Bruteforcing on the target we added in our `/etc/hosts` file. **Don't increase the value of `-t` too much or the requests made will fail.** 

```bash
gobuster vhost -u http://inlanefreight.htb:39109 -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt --append-domain -t 200
```

After the Name-Based Vhost bruteforcing we will find another vhost which we need to add again in our `/etc/hosts` file. Its always better to use `ping` command to check connection against the vhost added in the `/etc/hosts` file.

Now we will use gobuster directory bruteforcing to find hidden directories inside the vhost we discovered.

```bash
gobuster dir -u http://web1337.inlanefreight.htb:39109 -w /usr/share/seclists/Discovery/Web-Content/common.txt -t 50
```

After running this I got `index.html` and `/robots.txt`. Use `curl` command to get the contents of the `robots.txt` file.

```bash
curl http://web1337.inlanefreight.htb:39109/robots.txt
```

You will find a hidden admin directory there and now we can use `curl` command to get the hash value. `-L` is required to perform redirection because without it `curl` will get `301` server response.

```bash
curl -L http://web1337.inlanefreight.htb:39109/admin_h1dd3n/
```


- After crawling the inlanefreight.htb domain on the target system, what is the email address you have found? Respond with the full email, e.g., mail@inlanefreight.htb.
	- **1337testing@inlanefreight.htb**


A vhost itself can have other vhosts present so we will use `gobuster` on a vhost we found earlier to find other vhosts. Virtual hosting is necessary because multiple domains here can have same IP addresses but are differentiated by their hostnames so if we get a hit once, we get one domain but that doesn't mean we get the rest so vhost bruteforcing using `gobuster` is required.

```bash
gobuster vhost -u http://web1337.inlanefreight.htb:39109 -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt --append-domain -t 200
```

Remember after you get a new vhost you need to manually add it to the `/etc/hosts` file to its corresponding IP address. After that, run the **ReconSpider.py** python script.

```bash
python3 ReconSpider.py http://dev.web1337.inlanefreight.htb:39109
```


- What is the API key the inlanefreight.htb developers will be changing too?
	- **ba988b835be4aa97d068941dc852ff33**

You will get the answer analyzing the output generated by the above command.
